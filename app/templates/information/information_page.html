{% extends "base.html" %}

{%- from 'macros/meta.html' import meta -%}
{%- from 'macros/wagtail_streamfield.html' import wagtail_streamfield -%}

{%- set pageTitle = page_data.short_title or page_data.title -%}

{% block head %}
  {{ super() }}
  {{- meta(page_data) }}
{% endblock head %}

{% block content %}
  {# Page heading and intro #}
  {%- set top_content %}
    <div class="tna-container">
      <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny">
        <h1 class="tna-heading-xl">{{ page_data.title }}</h1>
        <div class="tna-scene-setter">{{ page_data.intro | tna_html | safe }}</div>
      </div>
    </div>
  {%- endset %}

  <div class="tna-section">
    {{ top_content }}
  </div>

  {# StreamField Content #}
  <section class="tna-section tna-container">
    <div class="tna-column tna-column--full">

        {{ wagtail_streamfield(page_data.body, 2) }}

    </div>
  </section>

  {# Featured Links #}
  <section class="tna-section tna-container">
    <div class="tna-column tna-column--full">
      <h2>{{ page_data.featured_links_heading }}</h2>
        <ul>
          {% for link in page_data.featured_links %}
            <li>
              <a href="{{ link.value.url }}">{{ link.value.text }}</a>
            </li>
          {% endfor %}
        </ul>
    </div>
  </section>
{% endblock content %}