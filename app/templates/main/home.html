{% extends "base.html" %}

{%- from 'components/hero/macro.html' import tnaHero -%}
{%- from 'macros/meta.html' import meta -%}

{%- set pageTitle = page_data.short_title or page_data.title -%}

{% block head %}
  {{ super() }}
  {{- meta(page_data) }}
{% endblock head %}

{% block content %}
  {%- set top_content %}
    <div class="tna-container">
      <div class="tna-column tna-column--width-2-3 tna-column--width-5-6-medium tna-column--full-small tna-column--full-tiny">
        <h1 class="tna-heading-xl">{{ page_data.title }}</h1>
        <div class="tna-scene-setter">{{ page_data.intro | tna_html | safe }}</div>
      </div>
    </div>
  {%- endset %}

{%- if page_data.hero_image %}
<div class="tna-section">
  {{ top_content }}
</div>
{%- set hero_image_caption %}
  {{- page_data.hero_image_caption | safe -}}
  {%- if page_data.hero_image.copyright -%}
    <div class="tna-hero__copyright" itemprop="copyrightNotice">{{ page_data.hero_image.copyright | tna_html | safe }}</div>
  {%- endif -%}
{%- endset %}
{{ tnaHero({
  'imageSrc': page_data.hero_image.jpeg.full_url,
  'imageAlt': page_data.hero_image.description,
  'imageWidth': page_data.hero_image.jpeg.width,
  'imageHeight': page_data.hero_image.jpeg.height,
  'imageCaption': hero_image_caption | safe,
  'imageSources': [
    {
      'src': page_data.hero_image_small.webp.full_url,
      'width': page_data.hero_image_small.webp.width,
      'height': page_data.hero_image_small.webp.height,
      'type': 'image/webp',
      'media': '(max-width: 48em)'
    },
    {
      'src': page_data.hero_image_small.jpeg.full_url,
      'width': page_data.hero_image_small.jpeg.width,
      'height': page_data.hero_image_small.jpeg.height,
      'type': 'image/jpeg',
      'media': '(max-width: 48em)'
    },
    {
      'src': page_data.hero_image.webp.full_url,
      'width': page_data.hero_image.webp.width,
      'height': page_data.hero_image.webp.height,
      'type': 'image/webp'
    }
  ],
  'narrow': True
}, page_data.hero_image.uuid, page_data.hero_image.title) }}
{%- else %}
<div class="tna-section tna-background-accent-light">
  {{ top_content }}
</div>
{%- endif %}

  <section class="tna-section tna-container">
    <div class="tna-column tna-column--full">
      {% for section in page_data.featured_links_sections %}
        <h2>{{ section.heading }}</h2>
        <ul>
          {% for link in section.links %}
            <li>
              <a href="{{ link.value.url }}">{{ link.value.text }}</a>
            </li>
          {% endfor %}
        </ul>
      {% endfor %}
    </div>
  </section>
{% endblock content %}
