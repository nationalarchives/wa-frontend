{% extends "layouts/base_page.html" %}
{% from "components/page_header.html" import page_header %}
{% from "components/navigation.html" import sidebar %}
{% from "components/related_content.html" import related_content %}
{% from "components/breadcrumbs/macro.html" import tnaBreadcrumbs %}
{% from "components/card/macro.html" import tnaCard %}
{%- from 'macros/wagtail_streamfield.html' import wagtail_streamfield -%}

{% block content %}
    <div class="page">
        {% block breadcrumbs %}
            {% if page_data.meta.breadcrumbs %}
                {{ tnaBreadcrumbs({
                    "items": page_data.meta.breadcrumbs,
                    "labelText": "Breadcrumb navigation"
                }) }}
            {% endif %}
        {% endblock %}
        {{ page_header(page_data.title) }}
        <div class="tna-container">
            <div class="tna-column tna-column--full tna-column--width-2-3-medium">
                {% if page_data.intro %}
                    <div class="introduction">
                        <p>{{ page_data.intro | tna_html | safe }}</p>
                    </div>
                {% endif %}
                <div class="sf">{{ wagtail_streamfield(page_data.body, 2) }}</div>
            </div>
            <div class="tna-column tna-column--full tna-column--width-1-3-medium">
                {% if page_data.sidebar_navigation %}{{ sidebar(page_data.sidebar_navigation.subpages, page_data.sidebar_navigation.parent_page_title, sidebar_cta) }}{% endif %}
                {% if page_data.bookmarklet_cta %}
                    {{ tnaCard({
                        "title": page_data.bookmarklet_cta.heading,
                        "body": page_data.bookmarklet_cta.body,
                        "actions": [
                            {
                                "text": page_data.bookmarklet_cta.button_text,
                                "href": page_data.bookmarklet_cta.button_link
                            }
                        ],
                        "style": "contrast"
                    }) }}
                {% endif %}
            </div>
        </div>
        {% if page_data.featured_links %}{{ related_content(page_data.featured_links) }}{% endif %}
    </div>
{% endblock %}
